"use strict";(self.cloudinaryVideoPlayerChunkLoading=self.cloudinaryVideoPlayerChunkLoading||[]).push([[410],{7604:(t,e,s)=>{s.r(e),s.d(e,{default:()=>k});var i=s(6673),n=s.n(i);const o=n().getComponent("ClickableComponent");const r=class extends o{setItem(t){const{action:e,source:s}=t;this.source=s;const i=s.info();this.setTitle(i.title||s.publicId()),this.setPoster(this.source.poster().url({transformation:{aspect_ratio:"16:9",crop:"pad",background:"black"}})),this.setAction(e)}setTitle(t){this.title.innerText=t}setAction(t){this.action=t}handleClick(){super.handleClick(),this.player().trigger("recommendationshide"),this.action()}};var a=s(7878),c=s.n(a);const l=n().dom||n();const h=class extends r{setItem(t){super.setItem(t);const e=this.source.info();if(this.setTitle(e.title),this.setSubtitle(e.subtitle),e.description){const t=300,s=e.description.length>t?e.description.substring(0,t)+"...":e.description;this.setDescription(s)}}setPoster(t){this.poster.style.backgroundImage="url('".concat(t,"')")}setTitle(t){c().setText(this.title,t),this.setAriaCheck(this.title,!!t)}setSubtitle(t){c().setText(this.subtitle,t),this.setAriaCheck(this.subtitle,!!t)}setDescription(t){c().setText(this.description,t),this.setAriaCheck(this.description,!!t)}setAriaCheck(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden","true")}clearItem(){this.setTitle(""),this.setSubtitle(""),this.setDescription(""),this.poster.style.backgroundImage=null}createEl(){const t=super.createEl("div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-primary"});return this.poster=l.createEl("div",{className:"vjs-recommendations-overlay-item-primary-image"}),this.title=l.createEl("h2",{ariaLabel:"Recmmendation Title"}),this.setAriaCheck(this.title,!1),this.title.innerHTML="",this.subtitle=l.createEl("h3",{ariaLabel:"Recmmendation Subtitle"}),this.setAriaCheck(this.subtitle,!1),this.subtitle.innerHTML="",this.description=l.createEl("p"),this.setAriaCheck(this.description,!1),this.description.innerHTML="",this.content=l.createEl("div",{className:"vjs-recommendations-overlay-item-info vjs-recommendations-overlay-item-primary-content"}),this.content.appendChild(this.title),this.content.appendChild(this.subtitle),this.content.appendChild(this.description),t.appendChild(this.poster),t.appendChild(this.content),t}},d=n().dom||n();const m=class extends r{setItem(t){super.setItem(t),this.setDuration("")}setPoster(t){this.el().style.backgroundImage="url('".concat(t,"')")}setDuration(t){this.duration.innerText=t}createEl(){const t=super.createEl("div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-secondary"});this.title=d.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-title"}),this.title.innerHTML="",this.duration=d.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-duration"}),this.duration.innerHTML="";const e=d.createEl("div",{className:"vjs-recommendations-overlay-item-info"});return e.appendChild(this.title),e.appendChild(this.duration),t.appendChild(e),t}handleClick(){super.handleClick(),this.action()}},p=n().getComponent("Component");const u=class extends p{setItems(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this.clearItems(),e&&e.forEach((t=>{const e=new m(this.player());e.setItem(t),this.addChild(e)}))}clearItems(){this.children().forEach((()=>{this.removeChild(this.children()[0])}))}createEl(){return super.createEl("div",{className:"vjs-recommendations-overlay-item-secondary-container"})}},v=n().getComponent("Component");class y extends v{constructor(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];super(t,...s),this._primary=new h(t),this._secondaryContainer=new u(t),this.addChild(this._primary),this.addChild(this._secondaryContainer)}setItems(t){this._primary.setItem(t);for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];this._secondaryContainer.setItems(...s)}createEl(){return super.createEl("div",{className:"aspect-ratio-content"})}}const C=class extends v{constructor(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];super(t,...s),this._content=new y(t),this.addChild(this._content)}setItems(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];this._content.setItems(t,...s)}clearItems(){this._content._primary.clearItem(),this._content._secondaryContainer.clearItems()}createEl(){return super.createEl("div",{className:"vjs-recommendations-overlay-content"})}},g=n().getComponent("ClickableComponent");const I=class extends g{createEl(){return super.createEl("span",{className:"vjs-recommendations-overlay-hide vjs-icon-close"})}handleClick(){this.options_.clickHandler()}},b=n().getComponent("Component");class E extends b{constructor(t,e){for(var s=arguments.length,i=new Array(s>2?s-2:0),n=2;n<s;n++)i[n-2]=arguments[n];super(t,...i),this._content=new C(t),this.addChild(this._content),this.addChild(new I(t,{clickHandler:()=>{this.close()}},...i)),this.setEvents(t),this.doNotOpen=!1}setEvents(t){this.on(t,"recommendationschanged",((t,e)=>{this.setItems(...e.items)})),this.on(t,"recommendationsnoshow",this.setDoNotOpen),this.on(t,"recommendationsshow",this.open),this.on(t,"recommendationshide",this.close),this.on(t,"cldsourcechanged",(()=>{this.clearItems(),this.close()}))}setDoNotOpen(){this.doNotOpen=!0}open(){this.doNotOpen||(this._showControlsOnClose=this.player().controls(),this.player().controls(!1),this.el().style.visibility="visible")}clearItems(){this._content.clearItems()}close(){this.el().style.visibility="hidden",this._showControlsOnClose&&this.player().controls(!0)}createEl(){const t="vjs-recommendations-overlay",e=super.createEl("div",{className:t});return n().dom.addClass(e,t),e}setItems(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];this.doNotOpen=!1,s=s.slice(0,3),this._content.setItems(t,...s)}handleClick(){this.stopPropagation()}dispose(){super.dispose()}}n().registerComponent("recommendationsOverlay",E);const k=E}}]);
//# sourceMappingURL=recommendations-overlay.light.min.js.map